{{define "title"}}Registry{{end}}
{{define "heading"}}
    <div class="autocomplete">
        <h4><input class="form-control input-lg search" type=text placeholder="Search"/></h4>
        <ul class="list-group autocomplete-item">
            {{range .SvcNames}}
                <li class="list-group-item"  data-filter={{.}}><a href="registry?service={{.}}">{{.}}</a></li>
            {{end}}
        </ul>
    </div>
    {{range .SvcNames}}
        <a href="registry?service={{.}}" class="btn btn-default btn-lg" style="margin: 5px 3px 5px 3px;">{{.}}</a>
    {{end}}
{{end}}
{{define "content"}}
{{end}}
{{define "script"}}
<script type="text/javascript">
jQuery(function($, undefined) {
	var refs = $('li[data-filter]');
	$('.search').on('keyup', function() {
		var val = $.trim(this.value);
		refs.hide();
		refs.filter(function() {
			return $(this).data('filter').search(val) >= 0
		}).show();
	});
	$('.search').on('focus',function(){
	    $(".autocomplete-item").show();
	});
	$('.search').on('blur',function(evt){
	    console.log(evt)
	    setTimeout(function(){
            $(".autocomplete-item").hide();
	    },200)
    })
});
</script>
{{end}}
{{ define "style" }}
    .autocomplete{
        position:relative;
    }
    .autocomplete-item{
        display:none;
        position:absolute;
        top:100%;
        left:0;
        width: 100%;
        max-height: 206px;
        overflow-y: scroll;
        border-bottom: 1px solid #ddd;
    }

    .autocomplete-item li:hover{
        background:#f0f0f0;
    }
    .autocomplete-item a{
        color: black;
        width:100%;
        display: block;
    }
    .autocomplete-item a:hover{
        text-decoration: none;
    }
{{end}}